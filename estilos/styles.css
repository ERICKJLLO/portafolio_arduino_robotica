:root{
	/* reemplazar paleta y fondo */
	--bg-grad: #fafafa;                    /* fondo más suave que blanco puro */
	--card-bg: #ffffff;                    /* tarjetas blancas, ligeramente elevadas */
	--glass: rgba(3,64,59,0.01);
	/* paleta solicitada (se mantienen tonos pero menos dominantes) */
	--accent-1: #83d0c9;
	--accent-2: #65c3ba;
	--accent-3: #54b2a9;
	--accent-4: #35a79c;
	--accent-5: #00796b; /* un poco menos brillante que el #009688 original */
	/* variable usada por muchos selectores: asegurar existencia */
	--accent: var(--accent-4);
	/* sombras y bordes más sutiles */
	--card-border: rgba(3,64,59,0.06);
	--soft-shadow: rgba(3,64,59,0.06);
	--muted: rgba(3,64,59,0.66);
	--title-grad-from: #83d0c9;
	--title-grad-to: #54b2a9;
	--card-border: rgba(3,64,59,0.06);
	--absorb: 0; /* 0..1 */
	--absorb-x: 50%; /* posición inicial */
	--absorb-y: 0%;
	--absorb-size: 0px;
}
*{box-sizing:border-box}
body{
	margin:0;
	font-family: Inter, "Segoe UI", Roboto, Arial, sans-serif;
	font-size: 16.5px;
	/* fondo más suave para reducir fatiga visual */
	background: var(--bg-grad);
	color: #063d38;
	/* aumentar espacio inferior y ritmo general */
	padding-bottom:56px;
	-webkit-font-smoothing:antialiased;
	-moz-osx-font-smoothing:grayscale;
	line-height:1.45;
}
/* header layout: three columns (botón | título | nav) */
.site-header{
	position:sticky;
	top:0;
	/* hacer el header opaco y legible sobre fondo blanco */
	backdrop-filter: none;
	background: #ffffff;   /* fondo sólido y limpio */
	border-bottom:1px solid rgba(3,64,59,0.04); /* más sutil */
	color: var(--accent-5);
	padding:10px 18px; /* menos alto */
	box-shadow: none;  /* eliminar sombra pesada */
	display:grid;
	grid-template-columns: auto 1fr auto;
	align-items:center;
	gap:12px;
	z-index:10;
	transition: padding 200ms ease, box-shadow 200ms ease, grid-template-columns 200ms ease;
}
.home-btn{
	display:inline-block;
	background:rgba(3,64,59,0.04);
	color: var(--accent-5);
	padding:8px 12px;
	border-radius:10px;
	text-decoration:none;
	font-weight:700;
	border:1px solid rgba(3,64,59,0.06);
	box-shadow: none;
	transition:all .16s ease, transform 180ms ease, padding 180ms ease, background 160ms ease;
	cursor: pointer;
}
.home-btn:hover{
	/* usar gradiente con la paleta nueva */
	background:linear-gradient(90deg,var(--accent),var(--accent-2));
	color:#ffffff; /* texto claro sobre el gradiente */
	box-shadow:0 8px 26px rgba(53,167,153,0.08);
	transform:translateY(-2px);
}
.site-header h1{
	/* reemplazar el texto con gradiente por color sólido para mejor legibilidad */
	margin:0;
	font-size:1.375rem;
	font-weight:800;
	letter-spacing:0.6px;
	text-align:left;
	background: none;                   /* eliminar gradiente recortado */
	-webkit-background-clip: initial;
	background-clip: initial;
	-webkit-text-fill-color: initial;
	color: var(--accent-5);             /* usar color de la paleta (ej. #009688) */
	text-shadow: 0 1px 0 rgba(0,0,0,0.04); /* sombra muy sutil para contraste */
	padding-right:8px;
	transition: font-size 220ms ease, padding 200ms ease, text-shadow 200ms ease;
	animation: none; /* eliminar shimmer en header para evitar incoherencias */
}

@keyframes shimmer {
	0%   { background-position: 0% 50%; }
	50%  { background-position: 100% 50%; }
	100% { background-position: 0% 50%; }
}
.site-header nav a{
	color: var(--accent-3); /* links más oscuros para contraste */
	margin-left:14px;
	text-decoration:none;
	font-weight:600;
	padding:8px 10px;
	border-radius:8px;
	transition:all .18s ease, padding 180ms ease, transform 180ms ease, background 160ms ease;
	cursor: pointer;
}
.site-header nav a:hover{
	color:#ffffff;
	background:linear-gradient(90deg,var(--accent-1),var(--accent-4)); /* hover con tonos de la paleta */
	box-shadow: 0 6px 18px rgba(3,64,59,0.06);
	transform:translateY(-2px);
}
main{
	/* centrar contenido y limitar ancho para evitar sensación "lineal" */
	max-width:1100px;
	width:100%;
	margin: 36px auto;
	padding: 0 20px;
}
.card{
	/* tarjetas: fondos blancos y sombras muy suaves */
	background: var(--card-bg);
	border:1px solid var(--card-border);
	padding:24px 26px;
	border-radius:12px;
	margin-bottom:26px;
	box-shadow: 0 8px 22px var(--soft-shadow);
	overflow: visible;
	display: flex;
	flex-direction: column;
	justify-content: flex-start;
	min-height: 160px;
}
h2{
	color: var(--accent-2);
	font-size: 1.35rem;
	margin-bottom:10px;
}
h3{
	color: var(--accent);
	font-size: 1.05rem;
	margin-top:12px;
	margin-bottom:6px;
}

/* grid de proyectos: tarjetas responsivas */
.project-list{
	/* aumentar separación para respirar mejor */
	display: grid;
	grid-template-columns: repeat(auto-fit, minmax(260px, 1fr));
	gap: 22px;
	margin-top: 18px;
}

/* tarjeta individual de proyecto */
.project-card{
	/* ...existing code... */
	border-radius:10px;
	padding:18px;
	background: #ffffff;
	border:1px solid rgba(3,64,59,0.04);
	box-shadow: 0 8px 20px rgba(3,64,59,0.04);
	min-height:150px;
	display: flex;
	flex-direction: column;
	justify-content: flex-start;
}

/* título y texto dentro de la tarjeta */
.project-card h3{
	margin: 0;
	font-size: 1.05rem;
	color: var(--accent-5);
}
.project-card p{
	margin: 0;
	color: rgba(6,61,56,0.9);
	flex: 1; /* empuja el botón hacia abajo si hay poco contenido */
}

/* botón dentro de la tarjeta */
.project-card .btn{
	align-self: flex-start;
	padding: 8px 12px;
}

/* efecto hover más sutil para el tema claro */
.project-card:hover{
	transform: translateY(-6px);
	box-shadow: 0 18px 40px rgba(3,64,59,0.08);
}

.btn{
	display:inline-block;
	/* gradiente con la paleta nueva */
	background:linear-gradient(90deg,var(--accent),var(--accent-2));
	color:#ffffff; /* texto claro para contraste */
	padding:8px 12px;border-radius:8px;text-decoration:none;font-weight:700;
	box-shadow: 0 6px 14px rgba(3,64,59,0.04);
	transition: transform 150ms ease, box-shadow 160ms ease, background-position 300ms ease;
	background-image: linear-gradient(90deg, var(--accent), var(--accent-2));
	background-size: 200% 100%;
	background-position: 0% 50%;
	cursor: pointer;
}
/* estado deshabilitado: mantener legible y comunicar estado */
.btn:disabled,
.home-btn:disabled{
	opacity: 0.6;
	cursor: not-allowed;
	pointer-events: none;
}

/* efecto hover: ligero levantado, brillo y desplazamiento del gradiente */
.btn:hover,
.home-btn:hover,
.site-header nav a:hover{
	transform: translateY(-3px) scale(1.01);
	box-shadow: 0 8px 20px rgba(3,64,59,0.06);
	background-position: 100% 50%;
	opacity: 0.99;
}
/* estado activo/pressed */
.btn:active,
.home-btn:active,
.site-header nav a:active{
	transform: translateY(-1px) scale(0.997);
	box-shadow: 0 6px 18px rgba(0,0,0,0.28);
	opacity: 0.96;
}
/* foco visible accesible */
.btn:focus-visible,
.home-btn:focus-visible,
.site-header nav a:focus-visible{
	outline: 3px solid rgba(255,180,120,0.18);
	outline-offset: 4px;
	box-shadow: 0 10px 28px rgba(255,170,120,0.08);
}
pre{ background: rgba(3,64,59,0.02); color:#063d38; }
.hint{ color: var(--muted); }
.site-footer{text-align:center;padding:18px;color:var(--muted);font-size:.9rem;margin-top:12px}
@media(max-width:720px){
	.site-header{padding:10px 14px;grid-template-columns:auto 1fr}
	.site-header h1{font-size:1rem} /* reducir en móvil para no romper el layout */
 	.site-header nav a{margin-left:8px;padding:6px 8px}
 	main{margin:18px auto;padding:0 14px}
	.project-list{gap:14px}
}
/* simple entrance animation */
@media (prefers-reduced-motion: no-preference) {
	.card{animation:fadeUp .45s ease both}
	@keyframes fadeUp{from{opacity:0;transform:translateY(8px)}to{opacity:1;transform:none}}
}

/* estado "encogido" cuando se hace scroll */
.site-header.shrink{
	padding:8px 14px;
	box-shadow: 0 8px 30px rgba(2,6,23,0.65);
	grid-template-columns: auto 1fr auto;
}

/* reducir visualmente botones / enlaces al encoger */
.site-header.shrink .home-btn{
	padding:6px 10px;
	transform:translateY(-1px) scale(0.98);
}
.site-header.shrink h1{
	font-size:1rem;            /* más pequeño para caber */
	letter-spacing:0.4px;
	text-shadow: 0 1px 8px rgba(0,0,0,0.45);
}
.site-header.shrink nav a{
	padding:6px 8px;
	font-size:0.95rem;
	transform:translateY(0);
}

/* overlay circular que "absbe" visualmente el contenido */
main{
	/* permitir transform y variables */
	transition: transform 200ms ease, filter 200ms ease;
	/* usar variables para ligero movimiento/escala */
	transform-origin: center top;
}

/* pseudo-elemento fijo que crece desde la cabecera creando la ilusión de succión/absorción */
main::before{
	content: "";
	pointer-events: none;
	position: fixed;
	left: calc(var(--absorb-x));
	top: calc(var(--absorb-y));
	width: 1px;
	height: 1px;
	translate: -50% 0; /* centrar en x */
	border-radius: 50%;
	/* GRADIENTE LUMINOSO y sutil: no oscurece el contenido */
	background: radial-gradient(circle at 50% 40%,
		rgba(255,255,255,0.12) 0%,
		rgba(255,255,255,0.06) 30%,
		rgba(255,255,255,0.00) 100%);
	/* tamaño controlado por --absorb (más suave que antes) */
	transform: translate(-50%, 0) scale(calc(1 + var(--absorb) * 18));
	opacity: calc(var(--absorb) * 0.35); /* opacidad reducida para evitar oscurecer */
	transition: transform 220ms cubic-bezier(.2,.9,.2,1), opacity 180ms ease;
	z-index: 6;
}

/* efecto sobre el contenido cuando se absorbe: sin blur/oscurecimiento */
main.absorbing,
main.absorbing *{
	/* ya no modificamos brillo/blur: sólo ligera interacción visual */
	filter: none;
}

/* desplaza y escala el contenido levemente según --absorb para sensación de succión */
main{
	transform: translateY(calc(var(--absorb) * -12px)) scale(calc(1 - var(--absorb) * 0.01));
}

@media(max-width:720px){
	main::before{display:none} /* evitar overlay agresivo en móviles */
	main{transform: translateY(calc(var(--absorb) * -6px)) scale(calc(1 - var(--absorb) * 0.005));}
}

/* evitar animaciones si el usuario prefiere reducir movimiento */
@media (prefers-reduced-motion: reduce) {
	main::before, main { transition: none !important; animation: none !important; }
}

/* Ajustes para la sección de programación (evita recortes y mejora responsividad) */
#programacion.card {
	/* permitir que el contenido interno pueda crecer sin ser recortado */
	overflow: visible;
}

/* layout de dos columnas para la sección de programación:
   asegurar que ambas columnas se estiren a la misma altura */
.program-layout{
	display: grid;
	grid-template-columns: 1fr 440px; /* columna principal + sidebar más ancha */
	gap: 28px;               /* más separación entre columnas */
	align-items: stretch;
	align-content: stretch;
}

/* forzar estirado por columna y evitar que la sidebar quede "recortada" */
.program-layout > div,
.program-layout > aside {
	align-self: stretch;
}

/* barra lateral: usar flex column para que el botón quede al final si el contenido principal es mayor */
.program-sidebar{
	flex: 0 0 440px; /* ancho aumentado para que el simulador quepa cómodamente */
	display: flex;
	flex-direction: column;
	background: rgba(255,255,255,0.02);
	border: 1px solid rgba(255,255,255,0.03);
	padding: 18px;
	border-radius: 8px;
	box-sizing: border-box;
	align-self: stretch; /* importante para que tome la misma altura que la columna principal */
	overflow: visible;
}

/* Empujar el botón al final de la sidebar si hace falta */
.program-sidebar .btn{
	margin-top: auto;
}

/* simulador grande a la derecha */
.simulator-panel{
	background: rgba(255,255,255,0.02);
	border: 1px solid rgba(255,255,255,0.03);
	padding: 16px;
	border-radius: 10px;
	display:flex;
	flex-direction:column;
	gap:10px;
	min-height:220px;
	box-sizing:border-box;
}

/* layout interno del simulador */
.simulator-main{display:flex;gap:16px;align-items:flex-start}
.sim-device{flex:0 0 120px;display:flex;flex-direction:column;align-items:center;justify-content:center}
.led-large{
	width:56px;height:56px;border-radius:50%;background:#111318;border:3px solid rgba(255,255,255,0.06);
	box-shadow: inset 0 -4px 10px rgba(0,0,0,0.7);
	transition: background .14s ease, box-shadow .14s ease, transform .12s ease;
}
.led-large.on{
	background: #aef3a3;
	box-shadow: 0 0 26px rgba(150,255,160,0.18), inset 0 -3px 8px rgba(0,0,0,0.4);
	transform: scale(1.05);
}

/* consola Serial */
.sim-console{flex:1;min-height:140px;background:rgba(3,64,59,0.03);border-radius:8px;padding:8px;overflow:auto;border:1px solid rgba(3,64,59,0.04)}
.console-header{font-size:0.85rem;color:var(--muted);margin-bottom:6px}
.console-body{font-family:monospace;font-size:0.85rem;color:#063d38;line-height:1.35;white-space:pre-wrap}

/* controles */
.sim-controls .btn{flex:0 0 auto}

/* responsive: apilar simulador debajo en móviles */
@media (max-width: 880px){
	.program-layout{grid-template-columns:1fr; }
	.simulator-panel{order:2;width:100%}
	.simulator-main{flex-direction:row;gap:8px}
}

/* canvas dinámico: top/height se ajustan desde JS para quedar justo bajo el header */
#bg-canvas{
	position: fixed;
	left: 0;
	top: 0;          /* valor inicial; JS actualizará top/height para estar bajo el header */
	width: 100%;
	height: 100%;
	z-index: -1;     /* detrás de todo */
	pointer-events: none; /* no interfiere con clicks */
	display: block;
}
/* layout más fluido: secciones principales en rejilla para evitar apariencia lineal */
.sections-grid{
	display: grid;
	grid-template-columns: repeat(auto-fit, minmax(360px, 1fr));
	gap: 26px;
	align-items: start;
	/* permitir que la grid tenga algo de separación vertical en pantallas grandes */
	margin-top: 6px;
}

/* cada tarjeta ya es .card; aseguramos que se comporte bien dentro de la grid */
.card{
	/* mantener padding y fondo, pero permitir que el contenido no ocupe toda la fila */
	display: flex;
	flex-direction: column;
	justify-content: flex-start;
	min-height: 160px;
}

/* mejorar lectura: limitar ancho de línea dentro de cada tarjeta */
.card p,
.card ul,
.card ol{
	max-width: 64ch;
}

/* en pantallas más pequeñas revertir a apilado vertical */
@media (max-width: 880px){
	.sections-grid{
		grid-template-columns: 1fr;
		gap: 18px;
	}
	.card p,
	.card ul,
	.card ol{
		max-width: 100%;
	}
}

/* aumentar separación general entre secciones (más respiración) */
main > .card,
.sections-grid > .card{
	margin-bottom: 30px;
}

/* Opcional: suavizar pequeñas sombras para sensación más ordenada */
.card, .project-card{
	box-shadow: 0 6px 16px rgba(3,64,59,0.035);
}

/* utilidad: ocupar dos columnas en la rejilla de secciones (solo en pantallas anchas) */
.sections-grid > .span-2 {
	grid-column: span 2;
}

/* en pantallas pequeñas revertir a una columna para no romper diseño */
@media (max-width: 880px) {
	.sections-grid > .span-2 {
		grid-column: auto;
	}
}

/* ------------- ajustes para iframes responsivos (mejor tamaño) ------------- */
/* asegurar que iframes usen todo el ancho disponible dentro de la tarjeta */
.card iframe,
.card > div iframe,
.sections-grid iframe,
.project-list iframe {
	width: 100% !important;
	max-width: 100% !important;
	/* mantener proporción 16:9 pero asegurar un alto mínimo en pantallas grandes */
	aspect-ratio: 16 / 9;
	height: auto !important;
	min-height: 420px;        /* <-- mayor tamaño por defecto */
	box-sizing: border-box;
	border-radius: 10px;
	overflow: hidden;
}

/* simuladores Wokwi: usar altura mayor para que la UI del simulador no se vea comprimida */
.card iframe[src*="wokwi.com"],
.simulator-panel iframe {
	min-height: 560px;       /* <-- más alto para simuladores */
}

/* si algún iframe necesita aún más espacio (opcional): usar clase .large-iframe en HTML */
/* .large-iframe { min-height: 720px !important; } */

/* en pantallas pequeñas reducir alturas para mantener usabilidad */
@media (max-width: 880px){
	.card iframe,
	.sections-grid iframe {
		aspect-ratio: 16 / 9;
		height: auto !important;
		min-height: 260px;   /* más pequeño en móvil */
	}
	.card iframe[src*="wokwi.com"],
	.simulator-panel iframe{
		min-height: 380px;   /* simulador móvil más razonable */
	}
}

/* asegurar que wrappers con max-width no limiten el iframe */
.card > div[style*="max-width"] {
	max-width: 100% !important;
	padding: 0;
}

/* Corregir botones dentro de secciones centradas (p.ej. footer de proyecto):
   muchas páginas usan <section class="card" style="text-align:center"> ... */
section.card[style*="text-align:center"] .btn,
section.card[style*="text-align:center"] a.btn {
	align-self: center;    /* evita que el botón se estire por el flex container */
	width: auto;           /* volver a ancho natural */
	min-width: 120px;      /* opcional: asegura tamaño táctil mínimo */
	margin: 6px 8px;       /* separación entre botones cuando hay más de uno */
	display: inline-block; /* asegurar comportamiento visual consistente */
}

/* Asegurar que las .project-card mantengan su alineación a la izquierda */
.project-list .project-card .btn {
	align-self: flex-start;
}

